version: "3.9"

services:
  terraria:
    build:
      context: .
      dockerfile: docker/Dockerfile
    container_name: terraria-server
    restart: unless-stopped

    env_file:
      - .env

    ports:
      - "${SERVER_PORT:-7777}:7777"

    volumes:
      - ./worlds:/worlds
      - ./config:/config
      - ./backups:/backups

    stdin_open: true
    tty: true
